<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:viewModels="clr-namespace:AvaloniaSyncer.ViewModels"
             xmlns:converters="clr-namespace:Zafiro.Avalonia.Converters;assembly=Zafiro.Avalonia"
             xmlns:controls="clr-namespace:Zafiro.Avalonia.Controls;assembly=Zafiro.Avalonia"
             xmlns:transferManager="clr-namespace:Zafiro.Avalonia.FileExplorer.TransferManager;assembly=Zafiro.Avalonia.FileExplorer"
             xmlns:avaloniaProgressRing="clr-namespace:AvaloniaProgressRing;assembly=AvaloniaProgressRing"
             xmlns:avaloniaSyncer="clr-namespace:AvaloniaSyncer"
             mc:Ignorable="d" d:DesignWidth="800" d:DesignHeight="450"
             x:Class="AvaloniaSyncer.Views.MobileShell"
             x:DataType="viewModels:MainViewModel">

	<UserControl.Resources>

		<Thickness x:Key="TabItemMargin">0</Thickness>

		<converters:ResourceKeyConverter x:Key="ResourceKeyConverter">
			<converters:ResourceKeyConverter.Dictionary>
				<ResourceDictionary>
					<StreamGeometry x:Key="Synchronize">m 18.6127 4.20961 l 0.09421 0.083191 l 3 3.00007 c 0.02701 0.027014 0.05249 0.055566 0.07628 0.085514 l 0.08271 0.121265 v 0 l 0.03839 0.073289 v 0 l 0.03622 0.087037 v 0 l 0.03186 0.106462 v 0 l 0.0207 0.116918 l 0.0062 0.083618 v 0 l -0.0012 0.092062 l -0.01356 0.11577 v 0 l -0.03444 0.137347 v 0 l -0.04394 0.111082 v 0 l -0.05232 0.09749 v 0 l -0.06679 0.096054 l -0.08011 0.090349 l -3 3.00008 c -0.390524 0.390534 -1.02369 0.390534 -1.41421 0 c -0.360484 -0.360494 -0.388213 -0.927739 -0.08319 -1.32004 l 0.08319 -0.09421 l 1.29211 -1.29285 l -9.585 -7.75e-05 c -0.512836 0 -0.935507 -0.38604 -0.993272 -0.883379 L 7.99982 7.99997 c 0 -0.552285 0.447715 -1 1 -1 l 9.585 0.0001293 l -1.29211 -1.29306 C 16.9322 5.34655 16.9045 4.77931 17.2095 4.38701 l 0.08319 -0.09421 c 0.330444 -0.330452 0.834612 -0.381291 1.21851 -0.152516 l 0.101496 0.069326 z M 5.29256 19.7072 l -3 -3.00007 l -0.09658 -0.111948 l -0.071438 -0.110882 v 0 l -0.053772 -0.113219 v 0 l -0.035383 -0.105219 v 0 l -0.020423 -0.09106 v 0 l -0.013565 -0.11577 v -0.118177 v 0 l 0.013539 -0.115517 v 0 l 0.034599 -0.138089 v 0 l 0.019516 -0.05396 l 0.039276 -0.08715 v 0 l 0.037405 -0.06683 v 0 l 0.055057 -0.08102 v 0 l 0.05242 -0.06377 v 0 l 0.039349 -0.04166 l 3 -3.00007 l 0.094207 -0.08319 c 0.3596 -0.279614 0.866199 -0.279614 1.2258 0 l 0.094207 0.08319 l 0.083189 0.09421 c 0.279606 0.35961 0.279606 0.866221 0 1.22583 l -0.083189 0.09421 l -1.29211 1.29306 l 9.585 -0.000129 c 0.512836 0 0.935507 0.38604 0.993272 0.883379 l 0.0067 0.116621 l -0.0067 0.116673 c -0.05332 0.459082 -0.417569 0.823329 -0.876651 0.876651 l -0.116621 0.0067 l -9.585 7.7e-05 l 1.29211 1.29285 l 0.083189 0.09421 c 0.305025 0.392302 0.277295 0.959547 -0.083189 1.32004 c -0.360484 0.360493 -0.927715 0.388223 -1.32001 0.08319 z</StreamGeometry>
					<StreamGeometry x:Key="Settings">m 11.9747 1.25 c -0.4444 -1e-05 -0.8155 -1e-05 -1.1201 0.02077 C 10.5375 1.29241 10.238 1.33905 9.94761 1.45933 C 9.27379 1.73844 8.73843 2.27379 8.45932 2.94762 C 8.31402 3.29842 8.27467 3.66812 8.25964 4.06996 C 8.24756 4.39299 8.08454 4.66251 7.84395 4.80141 C 7.60337 4.94031 7.28845 4.94673 7.00266 4.79568 C 6.64714 4.60777 6.30729 4.45699 5.93083 4.40743 C 5.20773 4.31223 4.47642 4.50819 3.89779 4.95219 C 3.64843 5.14353 3.45827 5.3796 3.28099 5.6434 C 3.11068 5.89681 2.92517 6.21815 2.70294 6.60307 L 2.67769 6.64681 C 2.45545 7.03172 2.26993 7.35304 2.13562 7.62723 C 1.99581 7.91267 1.88644 8.19539 1.84541 8.50701 c -0.0952 0.72311 0.10076 1.45441 0.54475 2.03309 c 0.23112 0.3011 0.53157 0.5201 0.87201 0.734 c 0.27378 0.172 0.42571 0.448 0.42569 0.7259 c -1e-05 0.2778 -0.15194 0.5538 -0.42569 0.7258 c -0.34048 0.2139 -0.64096 0.4329 -0.8721 0.7341 c -0.444 0.5786 -0.63995 1.3099 -0.54476 2.033 c 0.04103 0.3116 0.1504 0.5944 0.29021 0.8798 c 0.13431 0.2742 0.31983 0.5955 0.54206 0.9804 l 0.02526 0.0438 c 0.22223 0.3849 0.40774 0.7062 0.57805 0.9596 c 0.17728 0.2638 0.36744 0.4999 0.6168 0.6912 c 0.57863 0.444 1.30994 0.64 2.03304 0.5448 c 0.37644 -0.0496 0.71627 -0.2003 1.07177 -0.3882 c 0.28583 -0.1511 0.60079 -0.1447 0.8414 -0.0057 c 0.24062 0.1389 0.40366 0.4084 0.41574 0.7315 c 0.01503 0.4018 0.05439 0.7715 0.19968 1.1223 c 0.27911 0.6738 0.81447 1.2092 1.48829 1.4883 c 0.29039 0.1203 0.58989 0.1669 0.90699 0.1885 c 0.3046 0.0208 0.6757 0.0208 1.1201 0.0208 h 0.0505 c 0.4445 0 0.8155 0 1.1202 -0.0208 c 0.3171 -0.0216 0.6166 -0.0682 0.907 -0.1885 c 0.6738 -0.2791 1.2092 -0.8145 1.4883 -1.4883 c 0.1453 -0.3508 0.1846 -0.7205 0.1996 -1.1224 c 0.0121 -0.323 0.1751 -0.5925 0.4157 -0.7315 c 0.2406 -0.1389 0.5556 -0.1453 0.8414 0.0057 c 0.3555 0.1879 0.6953 0.3387 1.0718 0.3882 c 0.7231 0.0952 1.4544 -0.1007 2.033 -0.5447 c 0.2494 -0.1914 0.4395 -0.4274 0.6168 -0.6912 c 0.1703 -0.2534 0.3558 -0.5747 0.578 -0.9596 l 0.0253 -0.0438 c 0.2222 -0.3849 0.4078 -0.7063 0.5421 -0.9805 c 0.1398 -0.2854 0.2491 -0.5681 0.2902 -0.8797 c 0.0952 -0.7232 -0.1008 -1.4545 -0.5448 -2.0331 c -0.2311 -0.3012 -0.5316 -0.5201 -0.872 -0.734 c -0.2738 -0.172 -0.4257 -0.448 -0.4257 -0.7259 c 0 -0.2778 0.1519 -0.5537 0.4256 -0.7257 c 0.3406 -0.2139 0.6411 -0.4328 0.8722 -0.7341 c 0.444 -0.57861 0.64 -1.30991 0.5448 -2.03302 C 22.1136 8.19546 22.0043 7.91274 21.8645 7.6273 C 21.7302 7.35313 21.5447 7.03183 21.3224 6.64695 L 21.2972 6.60318 C 21.0749 6.21825 20.8894 5.89688 20.7191 5.64347 C 20.5418 5.37967 20.3517 5.1436 20.1023 4.95225 C 19.5237 4.50826 18.7924 4.3123 18.0692 4.4075 C 17.6928 4.45706 17.353 4.60782 16.9975 4.79572 C 16.7117 4.94679 16.3967 4.94036 16.1561 4.80144 C 15.9155 4.66253 15.7524 4.39297 15.7403 4.06991 C 15.7253 3.66808 15.686 3.2984 15.5407 2.94762 C 15.2616 2.27379 14.7262 1.73844 14.0524 1.45933 C 13.762 1.33905 13.4625 1.29241 13.1454 1.27077 C 12.8407 1.24999 12.4697 1.24999 12.0252 1.25 Z M 10.5216 2.84515 C 10.5988 2.81319 10.716 2.78372 10.9567 2.76729 C 11.2042 2.75041 11.5238 2.75 12 2.75 c 0.4762 0 0.7958 0.00041 1.0432 0.01729 c 0.2408 0.01643 0.358 0.0459 0.4351 0.07786 c 0.3063 0.12687 0.5497 0.37021 0.6765 0.6765 c 0.0401 0.09661 0.0732 0.24722 0.0866 0.60432 c 0.0296 0.79238 0.4386 1.55532 1.1647 1.97451 c 0.726 0.4192 1.5913 0.39192 2.2923 0.0214 c 0.3159 -0.16698 0.463 -0.21356 0.5666 -0.22721 c 0.3287 -0.04327 0.6611 0.0458 0.9241 0.24761 c 0.0663 0.05084 0.1504 0.13761 0.285 0.33788 c 0.1384 0.20587 0.2985 0.48244 0.5366 0.89484 c 0.2381 0.41241 0.3976 0.68938 0.5067 0.91213 c 0.1061 0.21669 0.1392 0.33294 0.1501 0.41574 c 0.0433 0.32868 -0.0458 0.6611 -0.2476 0.92411 c -0.0637 0.08297 -0.1775 0.18701 -0.4802 0.37712 c -0.6713 0.4219 -1.1275 1.1575 -1.1276 1.9958 c 0 0.8384 0.4562 1.5741 1.1276 1.996 c 0.3026 0.1901 0.4164 0.2941 0.4801 0.3771 c 0.2018 0.263 0.2909 0.5954 0.2476 0.9241 c -0.0109 0.0828 -0.044 0.199 -0.1501 0.4157 c -0.1091 0.2227 -0.2686 0.4997 -0.5067 0.9121 c -0.2381 0.4124 -0.3982 0.689 -0.5366 0.8949 c -0.1346 0.2002 -0.2187 0.287 -0.285 0.3378 c -0.263 0.2019 -0.5954 0.2909 -0.9241 0.2477 c -0.1036 -0.0137 -0.2507 -0.0603 -0.5666 -0.2272 c -0.701 -0.3706 -1.5663 -0.3978 -2.2924 0.0214 c -0.7259 0.4192 -1.1349 1.1821 -1.1645 1.9745 c -0.0134 0.3571 -0.0465 0.5077 -0.0866 0.6044 c -0.1268 0.3062 -0.3702 0.5496 -0.6765 0.6765 c -0.0771 0.0319 -0.1943 0.0614 -0.4351 0.0778 C 12.7958 21.2496 12.4762 21.25 12 21.25 c -0.4762 0 -0.7958 -0.0004 -1.0433 -0.0173 C 10.716 21.2163 10.5988 21.1868 10.5216 21.1549 C 10.2154 21.028 9.97201 20.7846 9.84514 20.4784 C 9.80512 20.3817 9.77195 20.2311 9.75859 19.874 C 9.72896 19.0817 9.31997 18.3187 8.5939 17.8995 C 7.86784 17.4803 7.00262 17.5076 6.30158 17.8781 C 5.98565 18.0451 5.83863 18.0917 5.73495 18.1053 C 5.40626 18.1486 5.07385 18.0595 4.81084 17.8577 C 4.74458 17.8069 4.66045 17.7201 4.52586 17.5198 C 4.38751 17.314 4.22736 17.0374 3.98926 16.625 C 3.75115 16.2126 3.59171 15.9356 3.4826 15.7129 C 3.37646 15.4962 3.34338 15.3799 3.33248 15.2971 C 3.28921 14.9684 3.37828 14.636 3.5801 14.373 C 3.64376 14.2901 3.75761 14.186 4.0602 13.9959 C 4.73158 13.5741 5.18782 12.8384 5.18786 12.0001 C 5.18791 11.1616 4.73165 10.4259 4.06021 10.004 C 3.75769 9.81389 3.64385 9.70987 3.58019 9.62691 C 3.37838 9.3639 3.28931 9.03149 3.33258 8.7028 C 3.34348 8.62001 3.37656 8.50375 3.4827 8.28707 C 3.59181 8.06431 3.75125 7.78734 3.98935 7.37493 C 4.22746 6.96253 4.3876 6.68596 4.52596 6.48009 C 4.66055 6.27983 4.74468 6.19305 4.81093 6.14222 C 5.07395 5.9404 5.40636 5.85133 5.73504 5.8946 C 5.83873 5.90825 5.98576 5.95483 6.30173 6.12184 C 7.00273 6.49235 7.86791 6.51962 8.59394 6.10045 C 9.31998 5.68128 9.72896 4.91837 9.75859 4.12602 C 9.77195 3.76889 9.80512 3.61827 9.84514 3.52165 C 9.97201 3.21536 10.2154 2.97202 10.5216 2.84515 Z M 12 8.25 c -2.07106 0 -3.75 1.67893 -3.75 3.75 c 0 2.0711 1.67894 3.75 3.75 3.75 c 2.0711 0 3.75 -1.6789 3.75 -3.75 C 15.75 9.92893 14.0711 8.25 12 8.25 Z M 9.75 12 c 0 -1.2426 1.0074 -2.25 2.25 -2.25 c 1.2426 0 2.25 1.0074 2.25 2.25 c 0 1.2426 -1.0074 2.25 -2.25 2.25 c -1.2426 0 -2.25 -1.0074 -2.25 -2.25 z</StreamGeometry>
					<StreamGeometry x:Key="Explore">m 160 192 a 96 96 0 0 0 -96 96 a 96 96 0 0 0 14.1172 49.8828 L 0 416 L 32 448 L 110.094 369.906 A 96 96 0 0 0 160 384 A 96 96 0 0 0 256 288 A 96 96 0 0 0 160 192 Z m 0 32 a 64 64 0 0 1 64 64 a 64 64 0 0 1 -64 64 a 64 64 0 0 1 -64 -64 a 64 64 0 0 1 64 -64 z M 96 0 v 32 v 128 h 32 V 32 h 192 v 96 h 96 V 416 H 160 H 144 H 128 H 96 v 32 h 32 h 320 V 416 V 111.02 L 336.98 0 H 128 Z</StreamGeometry>
				</ResourceDictionary>

			</converters:ResourceKeyConverter.Dictionary>
		</converters:ResourceKeyConverter>

	</UserControl.Resources>

	<DockPanel>
		<controls:MasterDetailsNavigator DockPanel.Dock="Top" />
		<DockPanel Dock="Top" Height="48">
			<Button Theme="{StaticResource TransparentButton}" DockPanel.Dock="Right"  IsVisible="{Binding TransferManager.HasOngoingTransfers^}">
				<avaloniaProgressRing:ProgressRing Width="32" Height="32"  IsActive="{Binding TransferManager.HasOngoingTransfers^}" />
				<Button.Flyout>
					<Flyout>
						<avaloniaSyncer:TransfersView DataContext="{Binding TransferManager}" Width="300" />
                    </Flyout>
				</Button.Flyout>
			</Button>
			<TextBlock Margin="10 0 0 0" VerticalAlignment="Center" Text="{Binding SelectedSection.Name}" FontSize="20" FontWeight="Bold" />
		</DockPanel>
		<TabControl ItemsSource="{Binding Sections}" SelectedItem="{Binding SelectedSection, Mode=TwoWay}"
                    TabStripPlacement="Bottom">
			<TabControl.Styles>
				<Style Selector="TabItem:pointerover PathIcon">
					<Setter Property="Foreground"
                            Value="{DynamicResource TabItemHeaderForegroundUnselectedPointerOver}" />
				</Style>
			</TabControl.Styles>
			<TabControl.ContentTemplate>
				<DataTemplate DataType="viewModels:Section">
					<ContentControl Content="{Binding ViewModel}" />
				</DataTemplate>
			</TabControl.ContentTemplate>
			<TabControl.ItemTemplate>
				<DataTemplate>
					<StackPanel Margin="4">
						<PathIcon Height="28" Data="{Binding Name, Converter={StaticResource ResourceKeyConverter}}" />
						<TextBlock Margin="4" FontSize="15" TextAlignment="Center" VerticalAlignment="Center"
                                   Text="{Binding Name}" />
					</StackPanel>
				</DataTemplate>
			</TabControl.ItemTemplate>
			<TabControl.ItemsPanel>
				<ItemsPanelTemplate>
					<UniformGrid Rows="1" />
				</ItemsPanelTemplate>
			</TabControl.ItemsPanel>
		</TabControl>
	</DockPanel>

</UserControl>
